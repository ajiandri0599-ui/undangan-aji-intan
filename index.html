<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Undangan Pernikahan — Aji & Intan</title>
  <style>
    :root{--accent:#b08d57;--dark: #2b2b2b;--muted:#6b6b6b}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, "Segoe UI", Roboto, system-ui, -apple-system, "Helvetica Neue", Arial; background:#f7f5f2;color:var(--dark);-webkit-font-smoothing:antialiased}
    .splash{position:fixed;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.35)), url('https://images.unsplash.com/photo-1508672019048-805c876b67e2?auto=format&fit=crop&w=1600&q=80') center/cover no-repeat;display:flex;align-items:center;justify-content:center;z-index:50;color:white;padding:20px;transition:opacity .5s}
    .splash.hidden{opacity:0;visibility:hidden}
    .splash-card{max-width:680px;text-align:center;background:rgba(255,255,255,0.06);padding:36px;border-radius:12px;backdrop-filter:blur(4px)}
    .splash h1{margin:0;font-size:32px;letter-spacing:2px}
    .splash h2{margin:8px 0 16px;font-weight:400}
    .open-btn{display:inline-block;padding:10px 18px;border-radius:999px;background:var(--accent);color:#fff;text-decoration:none;font-weight:600;cursor:pointer;border:none}
    .container{max-width:1000px;margin:30px auto;padding:20px}
    .card{background:white;border-radius:12px;padding:22px;box-shadow:0 6px 20px rgba(20,20,20,0.06);margin-bottom:20px}
    .couple{display:flex;gap:20px;align-items:center}
    .avatar{width:120px;height:120px;border-radius:12px;flex-shrink:0;background-size:cover;background-position:center;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
    .names{flex:1}
    .names h1{margin:0;font-family:Georgia, serif;font-size:28px}
    .names p{margin:6px 0;color:var(--muted)}
    .date{font-weight:600;color:var(--accent);margin-top:6px}
    .countdown{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:12px}
    .countdown .box{min-width:90px;background:#fff;border-radius:8px;padding:12px 10px;text-align:center;box-shadow:0 3px 12px rgba(0,0,0,0.04)}
    .box .num{font-size:20px;font-weight:700}
    .box .label{font-size:12px;color:var(--muted);margin-top:6px}
    .grid{display:grid;grid-template-columns:1fr 320px;gap:20px}
    .schedule{padding:10px 0}
    .event{display:flex;gap:12px;align-items:flex-start;padding:12px 0;border-bottom:1px dashed #eee}
    .event:last-child{border-bottom:0}
    .time{min-width:110px;font-weight:700;color:var(--accent)}
    .desc{flex:1}
    .maps a{display:inline-block;padding:8px 12px;background:var(--accent);color:white;border-radius:8px;text-decoration:none;margin-top:8px}
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    .gallery img{width:100%;height:130px;object-fit:cover;border-radius:8px}
    .comments .form{display:flex;gap:8px;flex-direction:column}
    input, textarea{padding:10px;border:1px solid #e2e2e2;border-radius:8px;font-size:14px}
    button.primary{background:var(--accent);color:white;padding:10px;border-radius:8px;border:0;font-weight:700;cursor:pointer}
    .comment-list{margin-top:12px}
    .comment-item{padding:10px;border-radius:8px;background:#faf9f8;margin-bottom:8px}
    .meta{font-size:12px;color:var(--muted);margin-bottom:6px}
    footer{text-align:center;color:var(--muted);margin:18px 0 60px}
    @media(max-width:900px){.grid{grid-template-columns:1fr}.gallery{grid-template-columns:repeat(2,1fr)}.avatar{width:100px;height:100px}}
    @media(max-width:520px){.gallery img{height:100px} .splash h1{font-size:24px}}
    .music-control{position:fixed;right:18px;bottom:18px;background:white;padding:10px;border-radius:999px;box-shadow:0 8px 24px rgba(0,0,0,0.08);display:flex;gap:8px;align-items:center;z-index:40}
    .music-control button{border:0;background:transparent;cursor:pointer}
    #guestBox{margin-top:18px;font-size:18px;color:var(--accent);font-weight:600}
  </style>
</head>
<body>

<div id="splash" class="splash">
  <div class="splash-card">
    <h1>Aji & Intan</h1>
    <h2>Minggu, 28 September 2025</h2>
    <p>Dengan memohon rahmat Allah SWT, kami mengundang Bapak/Ibu/Saudara/i untuk hadir pada acara pernikahan kami.</p>
    <div id="guestBox"></div>
    <div style="margin-top:18px">
      <button class="open-btn" id="openInvite">Buka Undangan</button>
    </div>
  </div>
</div>

<div class="music-control" id="musicControl" style="display:none">
  <button id="playBtn" title="Play/Pause">▶️</button>
  <div style="font-size:13px;color:var(--dark)">Musik</div>
</div>

<audio id="bgMusic" loop preload="auto">
  <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mpeg">
</audio>

<div class="container" id="mainContent" style="opacity:0;transform:translateY(10px);transition:all .6s">
  <div class="card couple">
    <div class="avatar" style="background-image:url('https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=crop&w=800&q=80')"></div>
    <div class="names">
      <h1>Aji & Intan</h1>
      <p>Dengan penuh bahagia kami mengundang kehadiran Anda pada pernikahan kami.</p>
      <div class="date">Minggu, 28 September 2025 — Akad: 08:00 WIB</div>
      <div class="countdown" id="countdown"></div>
    </div>
  </div>
</div>

<script>
  // Personalisasi nama tamu dari query string ?to=
  const params = new URLSearchParams(window.location.search);
  const guest = params.get("to");
  if (guest) {
    document.getElementById("guestBox").innerText =
      "Kepada Yth. " + decodeURIComponent(guest);
  }

  // Splash handler
  const splash = document.getElementById('splash');
  const openBtn = document.getElementById('openInvite');
  const main = document.getElementById('mainContent');
  const music = document.getElementById('bgMusic');
  const musicControl = document.getElementById('musicControl');
  const playBtn = document.getElementById('playBtn');

  openBtn.addEventListener('click', ()=>{
    splash.classList.add('hidden');
    setTimeout(()=>{splash.style.display='none'; main.style.opacity=1; main.style.transform='translateY(0)';},600);
    music.play().then(()=>{
      musicControl.style.display='flex';
      playBtn.textContent = '⏸️';
    }).catch(()=>{
      musicControl.style.display='flex';
      playBtn.textContent = '▶️';
    });
  });

  playBtn.addEventListener('click', ()=>{
    if(music.paused){ music.play(); playBtn.textContent='⏸️'; } else { music.pause(); playBtn.textContent='▶️'; }
  });

  // Countdown
  function createCountdownElements(){
    const wrap = document.getElementById('countdown');
    const labels = ['Hari','Jam','Menit','Detik'];
    labels.forEach(l=>{
      const b = document.createElement('div'); b.className='box';
      b.innerHTML = `<div class="num" id="n-${l}">0</div><div class="label">${l}</div>`;
      wrap.appendChild(b);
    });
  }
  createCountdownElements();
  const target = new Date('Sep 28, 2025 08:00:00 GMT+0700').getTime();
  function updateCountdown(){
    const now = new Date().getTime();
    const dist = target - now;
    if(dist <= 0){['Hari','Jam','Menit','Detik'].forEach(l=>document.getElementById('n-'+l).textContent=0);clearInterval(countInt);return;}
    document.getElementById('n-Hari').textContent = Math.floor(dist/(1000*60*60*24));
    document.getElementById('n-Jam').textContent = Math.floor((dist%(1000*60*60*24))/(1000*60*60));
    document.getElementById('n-Menit').textContent = Math.floor((dist%(1000*60*60))/(1000*60));
    document.getElementById('n-Detik').textContent = Math.floor((dist%(1000*60))/1000);
  }
  const countInt = setInterval(updateCountdown, 1000);
  updateCountdown();
</script>

</body>
</html>
